---
title: 二分木の操作 (Haskell Quiz No.16)
author: Shinya Yamaguchi
tags: bigmoon, quiz
---

## Haskell Quiz No.16

難易度: λ

以下のような二分木の定義があります。

```haskell
data Tree a
  = Leaf a
  | Node (Tree a) (Tree a)
```

以下の操作を定義してみましょう！

```haskell
-- | 部分木を左右反転させた木を返す
mirror :: Tree a -> Tree a
mirror = undefined

-- | 葉の数を返す
size :: Tree a -> Int
size = undefined

-- | 木の高さを返す
depth :: Tree a -> Int
depth = undefined

-- | 木が平衡かどうか
isBalanced :: Tree a -> Bool
isBalanced = undefined

-- | 葉の値を集めてリストにして返す
leaves :: Tree a -> [a]
leaves = undefined

-- | 左の部分木を返す
left :: Tree a -> Maybe (Tree a)
left = undefined

-- | 右の部分木を返す
right :: Tree a -> Maybe (Tree a)
right = undefined

-- | 木の要素に対して関数を適用する
mapTree :: (a -> b) -> Tree a -> Tree b
mapTree = undefined

-- | 木を畳み込む
foldTree :: (a -> b) -> (b -> b -> b) -> Tree a -> b
foldTree = undefined
```

答えは次回。

※ 図の作成には [mermaid](https://mermaidjs.github.io/)というツールを使っています。

<!--more-->

## はじめに

[前回](./07-24-quiz-15.html)の問題と答えは以下の通りです。

### 問題

難易度: λ

葉に**だけ**値を持つような**二分木**を定義してみてください！

図で書くとこんな感じです。

<img src="/images/2018/07-24/tree.svg" alt="木の図" width="50%">

答えは次回。

### こたえ

```haskell
data Tree
  = Leaf Int
  | Node Tree Tree

-- より一般的な定義
data Tree a
  = Leaf a
  | Node (Tree a) (Tree a)
```

### 解説

この定義を使って図の木を作るとこんな感じになります。

```haskell
t :: Tree Int
t = Node t1 t3
  where
    t1 = Node (Leaf 1) t2
    t2 = Node (Leaf 2) (Leaf 3)
    t3 = Node (Leaf 4) (Leaf 5)
```

**where** を使わない場合はこんな感じです。

```haskell
intTree :: Tree Int
intTree =
  Node
    (Node
      (Leaf 1)
      (Node
        (Leaf 2)
        (Leaf 3)))
    (Node
      (Leaf 4)
      (Leaf 5))
```

以上です。
