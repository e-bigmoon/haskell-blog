<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">

  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
  <!-- MUST in hex format, may the same as header-color. This color is for android chrome browser. -->
  <meta name="theme-color" content="#5c6bc0">

  <!-- Metadata. -->
  <meta name="keywords" content="haskell,blog,bigmoon" />
  <title>プロジェクトの作成</title>
  <meta name="description" content="BIG MOON">
  <link rel="canonical" href="../../stack/intro/create-prj.html">
  <link rel="alternate" type="application/atom+xml" title="プロジェクトの作成" href="../../feed.xml" />
  <link rel="shortcut icon" href="../../images/favicon.ico" />
  <meta name="google-site-verification" content="X2YNboLvzw3_bclXLMvohyJDqj68D06_hPDMukRbgTs" />

  <!-- Stylesheets. -->
  <link rel="stylesheet" href="../../lib/materialize/css/materialize.min.css" />
  <link rel="stylesheet" href="../../css/main.css" />
  <link media="all" rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/3.3.92/css/materialdesignicons.min.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../../lib/material-scrolltop/material-scrolltop.css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/agate.min.css" />
  

  <!-- OGP -->
  <meta property="og:title" content="プロジェクトの作成" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="/stack/intro/create-prj.html" />
  <!-- <meta property="og:image" content=" サムネイル画像の URL" /> -->
  <meta property="og:site_name" content="プロジェクトの作成" />
  <meta property="og:description" content="BIG MOON" />

  <meta name="twitter:card" content="summary" />
  <!-- <meta name="twitter:site" content="@[ Twitter ID]" /> -->
  <!-- <meta name="twitter:player" content="@[ Twitter ID]" /> -->

  <noscript>
  <div class="notice-warning noscript">You don't have javascript enabled. Good luck! :(</div>
</noscript>

<!--[if IE]>
  <div class="notice-warning">Oh, you are using Internet Explorer! Good luck... :(</div>
<![endif]-->

</head>


  <body>
    <header class="site-header">
      <nav class="nav-extended indigo lighten-1">
        <div class="nav-wrapper">
  <a href="../../"><span class="site-title">BIGMOON Haskeller's BLOG</span></a>
  <a href="#" data-activates="mobile-navbar" class="button-collapse">
    <i class="mdi mdi-menu white-text"></i>
  </a>

  <ul id="nav-mobile" class="right hide-on-med-and-down">
    <li>
      <a href="../../" class="white-text">
        <i class="mdi mdi-home left indigo-text text-lighten-3"></i>
        Home
      </a>
    </li>
    <li>
      <a href="../../about.html" class="white-text">
        <i class="mdi mdi-account-circle left indigo-text text-lighten-3"></i>
        About
      </a>
    </li>
    <li>
      <a href="../../books/" class="white-text">
        <i class="mdi mdi-book-open left indigo-text text-lighten-3"></i>
        Books
      </a>
    </li>
    <li>
      <a href="../../stack/" class="white-text">
        <i class="mdi mdi-wrench left indigo-text text-lighten-3"></i>
        Development
      </a>
    </li>
    <li>
      <a href="../../quiz/" class="white-text">
        <i class="mdi mdi-comment-question-outline left indigo-text text-lighten-3"></i>
        Quiz
      </a>
    </li>
    <li>
      <a href="../../libraries/" class="white-text">
        <i class="mdi mdi-package-variant left indigo-text text-lighten-3"></i>
        Libraries
      </a>
    </li>
    <li>
      <a href="../../yesod/" class="white-text">
        <i class="mdi mdi-earth left indigo-text text-lighten-3"></i>
        Yesod
      </a>
    </li>
    <li>
      <a href="../../feed.xml" class="white-text">
        <i class="mdi mdi-rss left indigo-text text-lighten-3"></i>
        Feed
      </a>
    </li>
  </ul>

  <ul class="side-nav" id="mobile-navbar">
    <li>
      <a href="../../" class="waves-effect waves-teal black-text">
        <i class="mdi mdi-home left green-text"></i>
        Home
      </a>
    </li>
    <li>
      <a href="../../about.html" class="navbar-text-colour-mobile">
        <i class="mdi mdi-account-circle left blue-text"></i>
        About
      </a>
    </li>
    <li>
      <a href="../../books/" class="navbar-text-colour-mobile">
        <i class="mdi mdi-book-open left blue-text"></i>
        Books
      </a>
    </li>
    <li>
      <a href="../../stack/" class="navbar-text-colour-mobile">
        <i class="mdi mdi-wrench left blue-text"></i>
        Development
      </a>
    </li>
    <li>
      <a href="../../quiz/" class="navbar-text-colour-mobile">
        <i class="mdi mdi-comment-question-outline left blue-text"></i>
        Quiz
      </a>
    </li>
    <li>
      <a href="../../libraries/" class="navbar-text-colour-mobile">
        <i class="mdi mdi-package-variant left blue-text"></i>
        Libraries
      </a>
    </li>
    <li>
      <a href="../../yesod/" class="navbar-text-colour-mobile">
        <i class="mdi mdi-earth left blue-text"></i>
        Yesod
      </a>
    </li>
  </ul>
</div>

      </nav>
    </header>

    <div class="site-container" id="tab-main">
      <div class="wrapper">
        <div class="post-ribbon"></div>

<div class="container page-container">
  <div class="post-page card-panel z-depth-2">
    <div class="post-section">
      <div class="post-heading">
        <div style="float: right;">
          
          <span>記事公開日: 2017/12/24</span><br>
          
          
          <span>最終更新日: 2019/09/14</span>
          
        </div>
        <h1 class="post-title">プロジェクトの作成</h1>
      </div>

      <article class="page-content">
        <p><strong>stack new</strong> コマンドの後に<strong>プロジェクト名</strong>を指定することで、<strong>Haskell</strong> プロジェクトの雛形を作ることができます。</p>
<p>本チュートリアルでは <strong>PFAD</strong> というプロジェクト名を利用します。</p>
<pre class="shell"><code>$ stack new PFAD
...
All done.

$ cd PFAD</code></pre>
<p>また、プロジェクトをビルドするためには <strong>stack build</strong> コマンドを実行します。</p>
<pre class="shell"><code>$ stack build
...</code></pre>
<h2 id="生成されたディレクトリとファイル">生成されたディレクトリとファイル</h2>
<p>プロジェクトの作成直後は以下のようなディレクトリとファイルが生成されています。</p>
<pre class="shell"><code>$ tree .
.
├── ChangeLog.md
├── LICENSE
├── PFAD.cabal
├── README.md
├── Setup.hs
├── app
│   └── Main.hs
├── package.yaml
├── src
│   └── Lib.hs
├── stack.yaml
└── test
    └── Spec.hs</code></pre>
<p>これらのファイルの中身と役割を簡単に確認していきましょう。よく使う順に紹介しています。</p>
<h3 id="package.yaml">package.yaml</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="fu">name</span><span class="kw">:</span><span class="at">                PFAD</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="fu">version</span><span class="kw">:</span><span class="at">             </span><span class="fl">0.1.0.0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="fu">github</span><span class="kw">:</span><span class="at">              </span><span class="st">&quot;waddlaw/PFAD&quot;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="fu">license</span><span class="kw">:</span><span class="at">             BSD3</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="fu">author</span><span class="kw">:</span><span class="at">              </span><span class="st">&quot;Shinya Yamguchi&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a><span class="fu">maintainer</span><span class="kw">:</span><span class="at">          </span><span class="st">&quot;example@example.com&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a><span class="fu">copyright</span><span class="kw">:</span><span class="at">           </span><span class="st">&quot;2019 Shinya Yamguchi&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="fu">extra-source-files</span><span class="kw">:</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a><span class="kw">-</span><span class="at"> README.md</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a><span class="kw">-</span><span class="at"> ChangeLog.md</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a><span class="co"># Metadata used when publishing your package</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a><span class="co"># synopsis:            Short description of your package</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a><span class="co"># category:            Web</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a><span class="co"># To avoid duplicated efforts in documentation and dealing with the</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true"></a><span class="co"># complications of embedding Haddock markup inside cabal files, it is</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true"></a><span class="co"># common to point users to the README.md file.</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true"></a><span class="fu">description</span><span class="kw">:</span><span class="at">         Please see the README on GitHub at &lt;https://github.com/waddlaw/PFAD</span><span class="co">#readme&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true"></a><span class="fu">dependencies</span><span class="kw">:</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true"></a><span class="kw">-</span><span class="at"> base &gt;= 4.7 &amp;&amp; &lt; 5</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true"></a><span class="fu">library</span><span class="kw">:</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true"></a><span class="at">  </span><span class="fu">source-dirs</span><span class="kw">:</span><span class="at"> src</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true"></a><span class="fu">executables</span><span class="kw">:</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true"></a><span class="at">  </span><span class="fu">PFAD-exe</span><span class="kw">:</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true"></a><span class="at">    </span><span class="fu">main</span><span class="kw">:</span><span class="at">                Main.hs</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true"></a><span class="at">    </span><span class="fu">source-dirs</span><span class="kw">:</span><span class="at">         app</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true"></a><span class="at">    </span><span class="fu">ghc-options</span><span class="kw">:</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> -threaded</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> -rtsopts</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> -with-rtsopts=-N</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true"></a><span class="at">    </span><span class="fu">dependencies</span><span class="kw">:</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> PFAD</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true"></a></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true"></a><span class="fu">tests</span><span class="kw">:</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true"></a><span class="at">  </span><span class="fu">PFAD-test</span><span class="kw">:</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true"></a><span class="at">    </span><span class="fu">main</span><span class="kw">:</span><span class="at">                Spec.hs</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true"></a><span class="at">    </span><span class="fu">source-dirs</span><span class="kw">:</span><span class="at">         test</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true"></a><span class="at">    </span><span class="fu">ghc-options</span><span class="kw">:</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> -threaded</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> -rtsopts</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> -with-rtsopts=-N</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true"></a><span class="at">    </span><span class="fu">dependencies</span><span class="kw">:</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true"></a><span class="at">    </span><span class="kw">-</span><span class="at"> PFAD</span></span></code></pre></div>
<p>このファイルはとても大事です。<code>.cabal</code> ファイルに設定する内容は全てこのファイルに記述します。</p>
<p>主に以下の作業を行う場合に編集します。</p>
<ul>
<li>新しい依存関係を追加</li>
<li>全てのファイルで有効となる言語拡張の追加</li>
<li><strong>ghc-options</strong> の追加</li>
<li>ビルドフラグの追加</li>
</ul>
<p>本チュートリアルで頻繁に編集するファイルです。初期状態では <strong>base</strong> パッケージに含まれるモジュールのみが利用可能です。</p>
<h3 id="stack.yaml">stack.yaml</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co"># コメントは削除しました</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="fu">resolver</span><span class="kw">:</span><span class="at"> lts-14.5</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="fu">packages</span><span class="kw">:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="kw">-</span><span class="at"> .</span></span></code></pre></div>
<p><strong>stack.yaml</strong> ファイルも非常に重要です。</p>
<p>主に以下の作業を行う場合に編集します。</p>
<ul>
<li>スナップショットの指定</li>
<li>スナップショットに含まれないパッケージの指定</li>
</ul>
<p>本チュートリアルで頻繁に編集するファイルです。</p>
<h3 id="pfad.cabal">PFAD.cabal</h3>
<pre><code>cabal-version: 1.12

-- This file has been generated from package.yaml by hpack version 0.31.2.
--
-- see: https://github.com/sol/hpack
--
-- hash: f04e2ae923fca8f3b4c22672f4a24ed1d088cfc9faafd914f923baeb9520ca73

name:           PFAD
version:        0.1.0.0
description:    Please see the README on GitHub at &lt;https://github.com/waddlaw/PFAD#readme&gt;
homepage:       https://github.com/waddlaw/PFAD#readme
bug-reports:    https://github.com/waddlaw/PFAD/issues
author:         Shinya Yamguchi
maintainer:     example@example.com
copyright:      2019 Shinya Yamguchi
license:        BSD3
license-file:   LICENSE
build-type:     Simple
extra-source-files:
    README.md
    ChangeLog.md

source-repository head
  type: git
  location: https://github.com/waddlaw/PFAD

library
  exposed-modules:
      Lib
  other-modules:
      Paths_PFAD
  hs-source-dirs:
      src
  build-depends:
      base &gt;=4.7 &amp;&amp; &lt;5
  default-language: Haskell2010

executable PFAD-exe
  main-is: Main.hs
  other-modules:
      Paths_PFAD
  hs-source-dirs:
      app
  ghc-options: -threaded -rtsopts -with-rtsopts=-N
  build-depends:
      PFAD
    , base &gt;=4.7 &amp;&amp; &lt;5
  default-language: Haskell2010

test-suite PFAD-test
  type: exitcode-stdio-1.0
  main-is: Spec.hs
  other-modules:
      Paths_PFAD
  hs-source-dirs:
      test
  ghc-options: -threaded -rtsopts -with-rtsopts=-N
  build-depends:
      PFAD
    , base &gt;=4.7 &amp;&amp; &lt;5
  default-language: Haskell2010</code></pre>
<p><strong>hpack</strong> を利用するため、本チュートリアルでは直接利用することはありません。</p>
<p>このファイルに反映させたい内容については、<strong>package.yaml</strong> を編集することになります。また、ファイルの先頭に <strong>hapck</strong> のバージョンが追記されます。</p>
<pre><code>-- This file has been generated from package.yaml by hpack version 0.31.2.
--
-- see: https://github.com/sol/hpack
--
-- hash: f04e2ae923fca8f3b4c22672f4a24ed1d088cfc9faafd914f923baeb9520ca73</code></pre>
<h3 id="readme.md">README.md</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="fu"># PFAD</span></span></code></pre></div>
<p>よくある <strong>README.md</strong> ファイルです。</p>
<p>実際のプロジェクトではビルド方法や各種リンクが張られていたりします。</p>
<h3 id="changelog.md">ChangeLog.md</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="fu"># Changelog for PFAD</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a><span class="fu">## Unreleased changes</span></span></code></pre></div>
<p>プロジェクトの変更履歴を管理するためのファイルです。</p>
<p>本チュートリアルでは利用しませんが、実際のプロジェクトでは変更履歴をこのファイルに記録します。</p>
<h3 id="license">LICENSE</h3>
<pre><code>Copyright Shinya Yamguchi (c) 2019

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Shinya Yamguchi nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</code></pre>
<p>必要に応じて、適したライセンスを準備しましょう。本チュートリアルでは利用しません。</p>
<h3 id="setup.hs">Setup.hs</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode hs"><code class="sourceCode haskell"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="kw">import</span> <span class="dt">Distribution.Simple</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a>main <span class="ot">=</span> defaultMain</span></code></pre></div>
<p>本チュートリアルでは利用しません。実際の開発でもこのファイルを編集することは稀だと思います。</p>
<h2 id="準備">準備</h2>
<p>新たに作成するソースコードは <strong>app</strong>, <strong>src</strong>, <strong>test</strong> に以下にそれぞれ配置します。一応、以下のコマンドに対応するようにフォルダを分けることが多いです。</p>
<table>
<thead>
<tr class="header">
<th>ディレクトリ</th>
<th>関連するコマンド</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>app</td>
<td>stack exec, stack run</td>
<td></td>
</tr>
<tr class="even">
<td>bench</td>
<td>stack bench</td>
<td>デフォルトでは存在しない</td>
</tr>
<tr class="odd">
<td>haddock</td>
<td>stack haddock</td>
<td>デフォルトでは存在しない</td>
</tr>
<tr class="even">
<td>src</td>
<td>stack build</td>
<td></td>
</tr>
<tr class="odd">
<td>test</td>
<td>stack test</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>src/Lib.hs</strong> ファイルは今回利用しないため削除しておきます。</p>
<pre class="shell"><code>$ rm src/Lib.hs</code></pre>
<p>そうすると当然 <strong>Lib.hs</strong> が無いのでコンパイルエラーになってしまいます。</p>
<pre class="shell"><code>$ stack build
/PFAD/app/Main.hs:3:1: error:
    Could not load module `Lib'
    It is a member of the hidden package `libiserv-8.6.3'.
    Perhaps you need to add `libiserv' to the build-depends in your .cabal file.
    Use -v to see a list of the files searched for.
  |
3 | import Lib
  | </code></pre>
<p>とりあえず現状は <strong>app/Main.hs</strong> を以下のように書き換えておきましょう。</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode hs"><code class="sourceCode haskell"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="kw">module</span> <span class="dt">Main</span> (main) <span class="kw">where</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="co">-- import Lib は削除</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a>main <span class="ot">=</span> <span class="fu">print</span> <span class="st">&quot;Hello World&quot;</span></span></code></pre></div>
<p>これでビルドが通るようになりました。</p>
<pre class="shell"><code>$ stack build
Building all executables for `PFAD' once. After a successful build of all of them, only specified executables will be rebuilt.
PFAD&gt; build (lib + exe)
Preprocessing library for PFAD-0.1.0.0..
Building library for PFAD-0.1.0.0..
Preprocessing executable 'PFAD-exe' for PFAD-0.1.0.0..
Building executable 'PFAD-exe' for PFAD-0.1.0.0..
[1 of 2] Compiling Main
[2 of 2] Compiling Paths_PFAD
Linking .stack-work/dist/x86_64-linux/Cabal-2.4.0.1/build/PFAD-exe/PFAD-exe ...
PFAD&gt; copy/register
Installing library in /PFAD/.stack-work/install/x86_64-linux/754da54955212e5178bdb2a3208393df962e4e4e4998fe9886c862a9c58273a0/8.6.5/lib/x86_64-linux-ghc-8.6.5/PFAD-0.1.0.0-B1WTd1uDmyhGTpZWzSKOj5
Installing executable PFAD-exe in /PFAD/.stack-work/install/x86_64-linux/754da54955212e5178bdb2a3208393df962e4e4e4998fe9886c862a9c58273a0/8.6.5/bin
Registering library for PFAD-0.1.0.0..</code></pre>
<h2 id="stack.yaml.lock-ファイル">stack.yaml.lock ファイル</h2>
<p>stack v2.1.3 から <strong>stack.yaml.lock</strong> ファイルというものが生成されるようになりました。</p>
<p>例えば、現在の <strong>stack.yaml.lock</strong> ファイルの中身は以下のようになっていると思います。</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="co"># This file was autogenerated by Stack.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="co"># You should not edit this file by hand.</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="co"># For more information, please see the documentation at:</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a><span class="co">#   https://docs.haskellstack.org/en/stable/lock_files</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a><span class="fu">packages</span><span class="kw">:</span><span class="at"> </span><span class="kw">[]</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a><span class="fu">snapshots</span><span class="kw">:</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">completed</span><span class="kw">:</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a><span class="at">    </span><span class="fu">size</span><span class="kw">:</span><span class="at"> </span><span class="dv">524104</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a><span class="at">    </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://raw.githubusercontent.com/commercialhaskell/stackage-snapshots/master/lts/14/5.yaml</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a><span class="at">    </span><span class="fu">sha256</span><span class="kw">:</span><span class="at"> 3c146eebc1b383211ea49d5422fb3d63d699da12307b4bc989107300eb579d60</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a><span class="at">  </span><span class="fu">original</span><span class="kw">:</span><span class="at"> lts-14.5</span></span></code></pre></div>
<p>このファイルはビルドの<strong>再現性</strong>のため導入されました。</p>
<p>詳細については以下を参照してください。</p>
<ul>
<li><a href="https://docs.haskellstack.org/en/stable/lock_files/">Lock Files</a></li>
<li><a href="https://github.com/commercialhaskell/stack/issues/4795">DISCUSS: Policy on including lock files in repo #4795</a></li>
</ul>
<p>ここでの問題はこのファイルをリポジトリに含めるかどうかですが、今の所は <strong>.gitignore</strong> に追記しておいて良いです。</p>
<p>たぶん今後、パッケージの場合は <strong>.gitignore</strong> に含め、end product の場合はリポジトリに含めておくという方針になると思います。</p>
<p>このファイルは自動的に編集されるため、気にせず先に進みましょう。</p>
      </article>

      <div class="pager">
      
        <a class="waves-effect waves-light btn white-text prev" href="./alt-stack.html"><span>«</span>前</a>
      
      
        <a class="waves-effect waves-light btn white-text next" href="./create-lib.html">次<span>»</span></a>
      
      </div>

      <div class="row">
        <div class="col s6 offset-s6" style="position: relative; height: 100px;">
          <div class="fixed-action-btn horizontal" style="position: absolute; display: inline-block; right: 24px;">
  <a class="btn-floating btn-large red">
    <i class="large material-icons">share</i>
  </a>
  <ul>
    <li>
      <a class="btn-floating waves-effect waves-light blue tooltipped" data-position="bottom" data-delay="20" data-tooltip="Share on Twitter" href="https://twitter.com/intent/tweet?text=プロジェクトの作成&url=https://haskell.e-bigmoon.com/stack/intro/create-prj.html"><i class="mdi mdi-twitter white-text"></i></a>
    </li>
    <li>
      <a class="btn-floating waves-effect waves-light indigo tooltipped" data-position="bottom" data-delay="20" data-tooltip="Share on Facebook" href="https://facebook.com/sharer.php?u=https://haskell.e-bigmoon.com/stack/intro/create-prj.html"><i class="mdi mdi-facebook white-text"></i></a>
    </li>
  </ul>
</div>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
    </div>

    <footer class="page-footer indigo lighten-1">
  <div class="footer-copyright">
    <div class="container">
      © 2017-2020 BIGMOON&nbsp;
      Site proudly generated by <a class="red-text text-accent-1" href="http://jaspervdj.be/hakyll">Hakyll</a>,&nbsp;
      original Jekyll theme by <a class="red-text text-accent-1" href="https://github.com/mumuxme/materialize-jekyll">mumuxme</a>.
    </div>
  </div>
</footer>


    <!-- scrolltop button -->
    <button class="material-scrolltop waves-effect waves-light hide-on-small-only" type="button">
      <i class="mdi mdi-arrow-up-bold small white-text"></i>
    </button>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19322672-9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-19322672-9');
    </script>

    <!-- jquery -->
    <script type="text/javascript" src="../../lib/jquery-min.js"></script>
    <!-- materialize -->
    <script src="../../lib/materialize/js/materialize.min.js"></script>
    <!-- <\!-- Material ScrollTop plugin -\-> -->
    <script src="../../lib/material-scrolltop/material-scrolltop.js"></script>
    <!-- main -->
    <script src="../../js/init.js"></script>
    <script src="../../js/main.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/haskell.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/yaml.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/shell.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/bash.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>

</html>
